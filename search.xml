<?xml version="1.0" encoding="utf-8"?>
<search>
  <entry>
    <title>本站搭建歷程</title>
    <url>/posts/1/</url>
    <content><![CDATA[<p><strong>2022年10月6日著手建站，至10月8日基本建立完成，10月9日幾乎完成所有配置並撰寫本文，歷時三天。</strong></p>
<p><strong>環境：Windows 11 21H2、Hexo 6.3.0、NexT 7.8.0</strong></p>
<h2 id="一、搭建"><a href="#一、搭建" class="headerlink" title="一、搭建"></a>一、搭建</h2><p><strong>網站的搭建步驟較為簡單，分為安裝</strong><font size=2><code>Git</code></font><strong>、</strong><font size=2><code>Node.js</code></font><strong>、</strong><font size=2><code>Hexo</code></font><strong>，建立網站四部分。</strong><br><img align="right" src="https://s1.ax1x.com/2022/10/14/xwtxJA.png" width="150x"></p>
<h3 id="1-安裝Git"><a href="#1-安裝Git" class="headerlink" title="1.安裝Git"></a>1.安裝<a href="https://git-scm.com/downloads">Git</a></h3><p><font size=2><code>Git</code></font><strong>是一个开源的分布式版本控制系统，後續操作將在右鍵菜單中使用</strong><font size=2><code>Git Bash</code></font><strong>完成。</strong></p>
<h3 id="2-安裝Node-js"><a href="#2-安裝Node-js" class="headerlink" title="2.安裝Node.js"></a>2.安裝<a href="http://nodejs.cn/download/">Node.js</a></h3><p><font size=2><code>Hexo</code></font><strong>是</strong><font size=2><code>Node.js</code></font><strong>框架下的一个项目，利用</strong><font size=2><code>Node.js</code></font><strong>的功能，完成从Markdown到静态网页的转换。完成</strong><font size=2><code>Node.js</code></font><strong>的安裝後，在</strong><font size=2><code>Git Bash</code></font><strong>中運行</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">node -v</span><br><span class="line">npm -v</span><br></pre></td></tr></table></figure>
<p><strong>驗證是否安裝成功。</strong></p>
<center><img src="https://s1.ax1x.com/2022/10/14/xwNdOK.png" width="450px"></center>

<h3 id="3-安裝Hexo"><a href="#3-安裝Hexo" class="headerlink" title="3.安裝Hexo"></a>3.安裝Hexo</h3><p><strong>在需要的位置新建一個文件夾存放網站相關文件，如</strong><font size=2><code>C:\Users\Katsura\Desktop\Blog</code></font><strong>。在這個文件夾中右鍵，單擊</strong><font size=2><code>Git Bash Here</code></font><strong>，運行</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">npm i hexo-cli -g</span><br></pre></td></tr></table></figure>
<p><strong>並等待</strong><font size=2><code>Hexo</code></font><strong>安裝完畢。安裝完畢後運行</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">hexo -v</span><br></pre></td></tr></table></figure>
<p><strong>驗證是否安裝成功。</strong></p>
<h3 id="4-建立網站"><a href="#4-建立網站" class="headerlink" title="4.建立網站"></a>4.建立網站</h3><p><strong>運行</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">hexo init</span><br></pre></td></tr></table></figure>
<p><strong>完成初始化，運行</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">npm install</span><br></pre></td></tr></table></figure>
<p><strong>安裝必要依賴組件，運行</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">hexo g</span><br><span class="line">hexo s</span><br></pre></td></tr></table></figure>
<p><strong>生成靜態文件並打開本地服務器，訪問</strong><font size=2><code>http://localhost:4000/</code></font><strong>即可見</strong><font size=2><code>Hexo</code></font><strong>的默認頁面。</strong></p>
<center><img src="https://s1.ax1x.com/2022/10/14/xwNDTe.png"></center>

<p><strong>至此站點的雛形初具形態。</strong></p>
<h2 id="二、部署"><a href="#二、部署" class="headerlink" title="二、部署"></a>二、部署</h2><p><strong>綜合多種因素考慮，決定將站點部署在</strong><font size=2><code>GitHub Pages</code></font><strong>上。</strong><br><img align="right" src="https://s1.ax1x.com/2022/10/14/xwNgSI.png" width="300px"></p>
<h3 id="1-新建一個GitHub倉庫"><a href="#1-新建一個GitHub倉庫" class="headerlink" title="1.新建一個GitHub倉庫"></a>1.新建一個<font size=2><code>GitHub</code></font>倉庫</h3><p><strong>登錄</strong><font size=2><code>GitHub</code></font><strong>，點擊右上方</strong><font size=2><code>+</code></font><strong>→</strong><font size=2><code>New repository</code></font><strong>。在</strong><font size=2><code>Repository name</code></font><strong>欄中輸入</strong><font size=2><code>xxx.github.io</code></font><strong>，其中</strong><font size=2><code>xxx</code></font><strong>對應左側</strong><font size=2><code>Owner</code></font><strong>的名稱。（這一步的目的是以後可以直接訪問</strong><font size=2><code>xxx.github.io</code></font><strong>，而不會出現404頁面。）</strong></p>
<p><strong>勾選</strong><font size=2><code>Public</code></font><strong>及</strong><font size=2><code>Add a README file</code></font><strong>，點擊</strong><font size=2><code>Create repository</code></font><strong>完成倉庫的創建。</strong></p>
<h3 id="2-連接本地與GitHub倉庫"><a href="#2-連接本地與GitHub倉庫" class="headerlink" title="2.連接本地與GitHub倉庫"></a>2.連接本地與<font size=2><code>GitHub</code></font>倉庫</h3><p><strong>在</strong><font size=2><code>Git Bash</code></font><strong>中運行</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">git config --global user.name &quot;xxx&quot;</span><br><span class="line">git config --global user.email &quot;yyy&quot;</span><br></pre></td></tr></table></figure>
<p><strong>其中</strong><font size=2><code>xxx</code></font><strong>是</strong><font size=2><code>GitHub</code></font><strong>用戶名，</strong><font size=2><code>yyy</code></font><strong>是</strong><font size=2><code>GitHub</code></font><strong>郵箱，下同。</strong></p>
<p><strong>運行</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ssh-keygen -t rsa -C &quot;yyy&quot;</span><br></pre></td></tr></table></figure>
<p><strong>並回車三次完成SSH密鑰的生成。運行</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">cat ~/.ssh/id_rsa.pub</span><br></pre></td></tr></table></figure>
<p><strong>並選中輸出的內容右鍵</strong><font size=2><code>Copy</code></font><strong>。</strong></p>
<p><strong>在</strong><font size=2><code>GitHub</code></font><strong>方才創建的倉庫中點擊</strong><font size=2><code>Settings</code></font><strong>→左側Security欄下的</strong><font size=2><code>Deploy keys</code></font><strong>→右上方</strong><font size=2><code>Add deploy key</code></font><strong>→</strong><font size=2><code>Title</code></font><strong>欄任意取名，</strong><font size=2><code>Key</code></font><strong>欄中粘貼剛剛生成的SSH密鑰，點擊</strong><font size=2><code>Add key</code></font><strong>完成本地與</strong><font size=2><code>GitHub</code></font><strong>的連接。</strong></p>
<p><strong>在</strong><font size=2><code>Git Bash</code></font><strong>中運行</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ssh -T git@github.com</span><br></pre></td></tr></table></figure>
<p><strong>輸出以下字樣表明連接成功。</strong><br><img src="https://s1.ax1x.com/2022/10/15/xwWVDe.png"></p>
<h3 id="3-部署到GitHub倉庫"><a href="#3-部署到GitHub倉庫" class="headerlink" title="3.部署到GitHub倉庫"></a>3.部署到<font size=2><code>GitHub</code></font>倉庫</h3><p><strong>利用</strong><font size=2><code>Notepad++</code></font><strong>軟體打開網站根目錄下的</strong><font size=2><code>_config.yml</code></font><strong>文件（切不可使用Windows記事本）。在末尾處可見如下代碼：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># Deployment</span><br><span class="line">## Docs: https://hexo.io/docs/one-command-deployment</span><br><span class="line">deploy:</span><br><span class="line">  type: &#x27;git&#x27;</span><br><span class="line">  repository: https://github.com/xxx/xxx.github.io.git</span><br><span class="line">  branch: master</span><br></pre></td></tr></table></figure>
<p><strong>其中需將</strong><font size=2><code>repository</code></font><strong>行的地址改為自己的倉庫地址。</strong></p>
<p><strong>在</strong><font size=2><code>Git Bash</code></font><strong>中運行</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">npm i hexo-deployer-git --save</span><br></pre></td></tr></table></figure>
<p><strong>這是一個將本地文件部署到</strong><font size=2><code>GitHub</code></font><strong>倉庫上的</strong><font size=2><code>Hexo</code></font><strong>插件。</strong></p>
<p><strong>運行</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">hexo cl</span><br><span class="line">hexo g</span><br><span class="line">hexo d</span><br></pre></td></tr></table></figure>
<p><strong>清除緩存文件和已生成的靜態文件、生成新的靜態文件、部署網站。</strong></p>
<p><strong>後兩步可由以下代码替代：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">hexo g -d</span><br></pre></td></tr></table></figure>

<p><strong>在部署的過程中可能會出現類似</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">at ChildProcess...</span><br></pre></td></tr></table></figure>
<p><strong>字樣的error錯誤，這是由於與</strong><font size=2><code>GitHub</code></font><strong>連接性較差而導致的，此時刪除</strong><font size=2><code>根目錄/.deploy_git</code></font><strong>文件夾，在</strong><font size=2><code>Git Bash</code></font><strong>中運行</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">git config --globle core.autocrlf false</span><br><span class="line">hexo cl &amp;&amp; hexo g &amp;&amp; hexo d</span><br></pre></td></tr></table></figure>
<p><strong>出現以下結果即表面正常，完成了本地文件向</strong><font size=2><code>GitHub</code></font><strong>倉庫的部署。</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">INFO Deploy done: git</span><br></pre></td></tr></table></figure>
<p><strong>在</strong><font size=2><code>GitHub</code></font><strong>倉庫中，點擊</strong><font size=2><code>Settings</code></font><strong>→</strong><font size=2><code>Pages</code></font><strong>→</strong><font size=2><code>Branch</code></font><strong>中的</strong><font size=2><code>main</code></font><strong>改選為</strong><font size=2><code>master</code></font><strong>，之後便可通過訪問</strong><font size=2><code>xxx.github.io</code></font><strong>來查看網站了。</strong></p>
<h2 id="三、主題"><a href="#三、主題" class="headerlink" title="三、主題"></a>三、主題</h2><p><font size=2><code>Hexo</code></font><strong>具有繁多的<a href="https://hexo.io/themes/">主題</a>，本站採用了較為廣泛使用的一款主題<a href="https://github.com/theme-next/hexo-theme-next">NexT</a>，這是一款簡潔而功能強大的主題，可調試的功能繁多。本站所做調試如下：</strong></p>
<img align="right" src="https://s1.ax1x.com/2022/10/15/xwWnUA.png" width="200px">

<h3 id="1-基本設置"><a href="#1-基本設置" class="headerlink" title="1.基本設置"></a>1.基本設置</h3><p><strong>在</strong><font size=2><code>根目錄/_config.yml</code></font><strong>中，</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># Site</span><br><span class="line">title: KatsuraKooushi                //網站標題</span><br><span class="line">subtitle: &#x27;桂小汪仔のブログ&#x27;          //網站副標題</span><br><span class="line">description: &#x27;八咫鳥不會二度昭告天啟&#x27;  //網站描述</span><br><span class="line">keywords:                            //關鍵詞</span><br><span class="line">author:                              //作者</span><br><span class="line">language: zh-TW                      //語言</span><br><span class="line">timezone: &#x27;&#x27;                         //時區</span><br></pre></td></tr></table></figure>
<p><strong>未列舉的參數亦可參考<a href="https://hexo.io/zh-tw/docs/index.html">Hexo官方文檔</a>設置。</strong></p>
<h3 id="2-網站圖標"><a href="#2-網站圖標" class="headerlink" title="2.網站圖標"></a>2.網站圖標</h3><p><img src="https://s1.ax1x.com/2022/10/15/xwWsrF.png"></p>
<p><strong>將需要的圖片置於</strong><font size=2><code>themes\next\source\images</code></font><strong>文件夾下。</strong></p>
<p><strong>在</strong><font size=2><code>根目錄/themes/next/_config.yml</code></font><strong>中，</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">favicon:</span><br><span class="line">  small: /images/favicon16.ico       //16×16小圖標</span><br><span class="line">  medium: /images/favicon32.ico      //32×32中圖標</span><br></pre></td></tr></table></figure>
<h3 id="3-建站時間及頁腳"><a href="#3-建站時間及頁腳" class="headerlink" title="3.建站時間及頁腳"></a>3.建站時間及頁腳</h3><p><img src="https://s1.ax1x.com/2022/10/15/xwWHVH.png"></p>
<p><strong>在</strong><font size=2><code>根目錄/themes/next/_config.yml</code></font><strong>中，</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">footer:</span><br><span class="line">  # Specify the date when the site was setup. If not defined, current year will be used.</span><br><span class="line">  since: 2022                        //網站建站年份</span><br><span class="line"></span><br><span class="line">  # Icon between year and copyright info.</span><br><span class="line">  icon:</span><br><span class="line">    # Icon name in Font Awesome. See: https://fontawesome.com/icons</span><br><span class="line">    name: fa fa-subway               //年份與版權信息之間的圖標</span><br><span class="line">    # If you want to animate the icon, set it to true.</span><br><span class="line">    animated: false                  //圖標是否動畫</span><br><span class="line">    # Change the color of icon, using Hex Code.</span><br><span class="line">    color: &quot;#FFD700&quot;                 //圖標顏色</span><br><span class="line"></span><br><span class="line">  # If not defined, `author` from Hexo `_config.yml` will be used.</span><br><span class="line">  copyright: KatsuraKooushi          //版權信息</span><br><span class="line"></span><br><span class="line">  # Powered by Hexo &amp; NexT</span><br><span class="line">  powered: false                     //是否顯示“由 Hexo &amp; NexT 強力驅動”</span><br></pre></td></tr></table></figure>
<h3 id="4-樣式選擇"><a href="#4-樣式選擇" class="headerlink" title="4.樣式選擇"></a>4.樣式選擇</h3><p><strong>在</strong><font size=2><code>根目錄/themes/next/_config.yml</code></font><strong>中，</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># Schemes</span><br><span class="line">#scheme: Muse</span><br><span class="line">#scheme: Mist</span><br><span class="line">#scheme: Pisces</span><br><span class="line">scheme: Gemini                        //在4款樣式中選擇一款，刪去#號</span><br><span class="line"></span><br><span class="line"># Dark Mode</span><br><span class="line">darkmode: false                       //是否使用深色模式</span><br></pre></td></tr></table></figure>
<h3 id="5-側邊欄位置"><a href="#5-側邊欄位置" class="headerlink" title="5.側邊欄位置"></a>5.側邊欄位置</h3><p><strong>在</strong><font size=2><code>根目錄/themes/next/_config.yml</code></font><strong>中，</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">sidebar:</span><br><span class="line">  # Sidebar Position.</span><br><span class="line">  position: left</span><br></pre></td></tr></table></figure>
<h3 id="6-頭像設置"><a href="#6-頭像設置" class="headerlink" title="6.頭像設置"></a>6.頭像設置</h3><p><strong>在</strong><font size=2><code>根目錄/themes/next/_config.yml</code></font><strong>中，</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># Sidebar Avatar</span><br><span class="line">avatar:</span><br><span class="line">  # Replace the default image and set the url here.</span><br><span class="line">  url: /images/avatar.png             //將圖片置於\themes\next\source\images文件夾下</span><br><span class="line">  # If true, the avatar will be dispalyed in circle.</span><br><span class="line">  rounded: true                       //頭像是否顯示為圓形</span><br><span class="line">  # If true, the avatar will be rotated with the cursor.</span><br><span class="line">  rotated: false                      //光標置於頭像上時是否旋轉</span><br></pre></td></tr></table></figure>
<h3 id="7-字體設置"><a href="#7-字體設置" class="headerlink" title="7.字體設置"></a>7.字體設置</h3><p><strong>字體樣式：在</strong><font size=2><code>根目錄/themes/next/_config.yml</code></font><strong>中，</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">font:</span><br><span class="line">  enable: true                //是否啟用</span><br><span class="line"></span><br><span class="line">  # Uri of fonts host, e.g. https://fonts.googleapis.com (Default).</span><br><span class="line">  host:</span><br><span class="line"></span><br><span class="line">  # Font options:</span><br><span class="line">  # `external: true` will load this font family from `host` above.</span><br><span class="line">  # `family: Times New Roman`. Without any quotes.</span><br><span class="line">  # `size: x.x`. Use `em` as unit. Default: 1 (16px)</span><br><span class="line"></span><br><span class="line">  # Global font settings used for all elements inside &lt;body&gt;.</span><br><span class="line">  global:                      //全局字體</span><br><span class="line">    external: true</span><br><span class="line">    family: Lato</span><br><span class="line">    size:</span><br><span class="line"></span><br><span class="line">  # Font settings for site title (.site-title).</span><br><span class="line">  title:                       //網站標題字體</span><br><span class="line">    external: true</span><br><span class="line">    family: </span><br><span class="line">    size:</span><br><span class="line"></span><br><span class="line">  # Font settings for headlines (&lt;h1&gt; to &lt;h6&gt;).</span><br><span class="line">  headings:                    //標題字體</span><br><span class="line">    external: true</span><br><span class="line">    family: </span><br><span class="line">    size:</span><br><span class="line"></span><br><span class="line">  # Font settings for posts (.post-body).</span><br><span class="line">  posts:                       //正文字體</span><br><span class="line">    external: true</span><br><span class="line">    family: STFangSong</span><br><span class="line"></span><br><span class="line">  # Font settings for &lt;code&gt; and code blocks.</span><br><span class="line">  codes:                       //代碼字體</span><br><span class="line">    external: true</span><br><span class="line">    family:</span><br></pre></td></tr></table></figure>
<p><strong>字體大小：在</strong><font size=2><code>根目錄/themes/next/source/css/_variables/base.styl</code></font><strong>中</strong>，</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// Font size</span><br><span class="line">$font-size-base           = (hexo-config(&#x27;font.enable&#x27;) and hexo-config(&#x27;font.global.size&#x27;) is a &#x27;unit&#x27;) ? unit(hexo-config(&#x27;font.global.size&#x27;), em) : 1em;</span><br><span class="line">$font-size-smallest       = .75em;      //1em即為瀏覽器默認字號，chrome為16px</span><br><span class="line">$font-size-smaller        = .8125em;</span><br><span class="line">$font-size-small          = .875em;</span><br><span class="line">$font-size-medium         = 1em;</span><br><span class="line">$font-size-large          = 1.125em;</span><br><span class="line">$font-size-larger         = 1.25em;</span><br><span class="line">$font-size-largest        = 1.5em;</span><br></pre></td></tr></table></figure>
<p><strong>也可以通過在</strong><font size=2><code>根目錄/source/_data/styles.styl</code></font><strong>中添加以下代碼實現：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">//字体设置</span><br><span class="line">.site-title &#123;</span><br><span class="line">    font-size: 22px !important;          //!important強調優先級</span><br><span class="line">	font-family: &#x27;Rockwell&#x27; !important;</span><br><span class="line">&#125;</span><br><span class="line">.site-subtitle &#123;</span><br><span class="line">    font-size: 18px !important;</span><br><span class="line">	font-family: &#x27;Ms Gothic&#x27; !important;</span><br><span class="line">&#125;</span><br><span class="line">.site-description &#123;</span><br><span class="line">    font-size: 16px !important;</span><br><span class="line">	font-family: &#x27;FZBeiWeiKaiShu-Z15&#x27; !important;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="8-搜索功能"><a href="#8-搜索功能" class="headerlink" title="8.搜索功能"></a>8.搜索功能</h3><p><strong>在</strong><font size=2><code>根目錄/themes/next/_config.yml</code></font><strong>中，</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># Local Search</span><br><span class="line"># Dependencies: https://github.com/theme-next/hexo-generator-searchdb</span><br><span class="line">local_search:</span><br><span class="line">  enable: true                    //是否啟用</span><br><span class="line">  # If auto, trigger search by changing input.</span><br><span class="line">  # If manual, trigger search by pressing enter key or search button.</span><br><span class="line">  trigger: auto                   //是否需要點擊搜索按鈕來顯示結果</span><br><span class="line">  # Show top n results per article, show all results by setting to -1</span><br><span class="line">  top_n_per_article: 5</span><br><span class="line">  # Unescape html strings to the readable one.</span><br><span class="line">  unescape: false</span><br><span class="line">  # Preload the search data when the page loads.</span><br><span class="line">  preload: false</span><br></pre></td></tr></table></figure>
<h3 id="9-添加live2d看板娘"><a href="#9-添加live2d看板娘" class="headerlink" title="9.添加live2d看板娘"></a>9.添加live2d看板娘</h3><p><strong>在</strong><font size=2><code>Git Bash</code></font><strong>中運行</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">npm i hexo-helper-live2d --save</span><br></pre></td></tr></table></figure>
<p><strong>安裝擴展，運行</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">npm i live2d-widget-model-xxx</span><br></pre></td></tr></table></figure>
<p><strong>其中</strong><font size=2><code>xxx</code></font><strong>表示需要安裝的模型，列表可點擊<a href="https://github.com/xiazeyu/live2d-widget-models#install-seperated-models">這裡</a>查看，預覽可點擊<a href="https://blog.csdn.net/wang_123_zy/article/details/87181892">這裡</a>查看。</strong></p>
<p><strong>在</strong><font size=2><code>根目錄/_config.yml</code></font><strong>中添加以下代碼：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">live2d:</span><br><span class="line">  enable: true                //是否啟用</span><br><span class="line">  scriptFrom: local</span><br><span class="line">  pluginRootPath: live2dw/</span><br><span class="line">  pluginJsPath: assets/</span><br><span class="line">  tagMode: false</span><br><span class="line">  model:</span><br><span class="line">    use: live2d-widget-model-hibiki  //選擇要使用的模型</span><br><span class="line">  display:</span><br><span class="line">    position: right           //位置</span><br><span class="line">    width: 150                //寬度</span><br><span class="line">    height: 300               //高度</span><br><span class="line">    vOffset: 60               //豎向偏移，正負表示上下</span><br><span class="line">    #hOffset: 60              //橫向偏移，正負表示左右</span><br></pre></td></tr></table></figure>
<p><strong>詳細設置可點擊<a href="https://l2dwidget.js.org/docs/class/src/index.js~L2Dwidget.html#instance-method-init">這裡</a>參考。</strong></p>
<h3 id="10-添加背景圖片"><a href="#10-添加背景圖片" class="headerlink" title="10.添加背景圖片"></a>10.添加背景圖片</h3><p><strong>1.將需要的背景圖片置於</strong><font size=2><code>根目錄/themes/next/source/images</code></font><strong>中，命名為</strong><font size=2><code>background.png</code></font><strong>，在</strong><font size=2><code>根目錄/source</code></font><strong>中新建文件夾</strong><font size=2><code>_data</code></font><strong>，在</strong><font size=2><code>根目錄/source/_data</code></font><strong>中新建文件</strong><font size=2><code>styles.styl</code></font><strong>，並添加以下代碼：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">body &#123;</span><br><span class="line">  background-image: url(/images/background.bmp);</span><br><span class="line">  background-repeat: no-repeat;</span><br><span class="line">  background-attachment: fixed;</span><br><span class="line">  background-position: 40% 50%;</span><br><span class="line">  background-size: cover;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>其中：</strong><font size=2><code>background-image</code></font><strong>表示圖片的路徑，也可以是絕對地址；</strong><font size=2><code>background-repeat</code></font><strong>表示圖片是否重複平鋪直至鋪滿整個屏幕；</strong><font size=2><code>background-attachment</code></font><strong>表示圖片是否随网页上下滚动而滚动；</strong><font size=2><code>background-position</code></font><strong>表示圖片的位置；</strong><font size=2><code>background-size</code></font><strong>表示图片的大小。</strong></p>
<p><strong>2.在</strong><font size=2><code>根目錄/themes/next/_config.yml</code></font><strong>中，將</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">custom_file_path:</span><br><span class="line">  #head: source/_data/head.swig</span><br><span class="line">  #header: source/_data/header.swig</span><br><span class="line">  #sidebar: source/_data/sidebar.swig</span><br><span class="line">  #postMeta: source/_data/post-meta.swig</span><br><span class="line">  #postBodyEnd: source/_data/post-body-end.swig</span><br><span class="line">  #footer: source/_data/footer.swig</span><br><span class="line">  #bodyEnd: source/_data/body-end.swig</span><br><span class="line">  #variable: source/_data/variables.styl</span><br><span class="line">  #mixin: source/_data/mixins.styl</span><br><span class="line">  #style: source/_data/styles.styl</span><br></pre></td></tr></table></figure>
<p><font size=2><code>style</code></font><strong>行前的</strong><font size=2><code>#</code></font><strong>刪去。</strong></p>
<h3 id="11-透明化"><a href="#11-透明化" class="headerlink" title="11.透明化"></a>11.透明化</h3><p><strong>在</strong><font size=2><code>根目錄/source/_data/styles.styl</code></font><strong>中，添加以下代碼：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">//文章内容透明度</span><br><span class="line">.content-wrap &#123;</span><br><span class="line">  opacity: 0.8;</span><br><span class="line">&#125;</span><br><span class="line">//侧边框的透明度设置</span><br><span class="line">.sidebar &#123;</span><br><span class="line">  background-color: transparent;</span><br><span class="line">  opacity: 0.8;</span><br><span class="line">&#125;</span><br><span class="line">//菜单栏的透明度设置</span><br><span class="line">.header-inner &#123;</span><br><span class="line">  background: rgba(255,255,255,0.8);</span><br><span class="line">&#125;</span><br><span class="line">.post-block &#123;</span><br><span class="line">  background: rgba(255,255,255,0.8) none repeat scroll !important;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>其中，</strong><font size=2><code>opacity</code></font><strong>表示不透明度，數值越小越透明。</strong></p>
<h3 id="12-添加陰影"><a href="#12-添加陰影" class="headerlink" title="12.添加陰影"></a>12.添加陰影</h3><p><strong>在</strong><font size=2><code>根目錄/source/_data/styles.styl</code></font><strong>中，添加以下代碼：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// 主页文章添加阴影效果</span><br><span class="line"> .post &#123;</span><br><span class="line">   margin-top: 60px;</span><br><span class="line">   margin-bottom: 60px;</span><br><span class="line">   padding: 25px;</span><br><span class="line">   -webkit-box-shadow: 0 0 5px rgba(202, 203, 203, .5);</span><br><span class="line">   -moz-box-shadow: 0 0 5px rgba(202, 203, 204, .5);</span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure>
<h3 id="13-添加圓角"><a href="#13-添加圓角" class="headerlink" title="13.添加圓角"></a>13.添加圓角</h3><p><strong>1.在</strong><font size=2><code>根目錄/source/_data</code></font><strong>中新建文件</strong><font size=2><code>variables.styl</code></font><strong>，並添加以下代碼：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">//圆角</span><br><span class="line">$border-radius-inner = 20px 20px 20px 20px;</span><br><span class="line">$border-radius       = 20px;</span><br></pre></td></tr></table></figure>
<p><strong>2.在</strong><font size=2><code>根目錄/themes/next/_config.yml</code></font><strong>中，將</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">custom_file_path:</span><br><span class="line">  #head: source/_data/head.swig</span><br><span class="line">  #header: source/_data/header.swig</span><br><span class="line">  #sidebar: source/_data/sidebar.swig</span><br><span class="line">  #postMeta: source/_data/post-meta.swig</span><br><span class="line">  #postBodyEnd: source/_data/post-body-end.swig</span><br><span class="line">  #footer: source/_data/footer.swig</span><br><span class="line">  #bodyEnd: source/_data/body-end.swig</span><br><span class="line">  #variable: source/_data/variables.styl</span><br><span class="line">  #mixin: source/_data/mixins.styl</span><br><span class="line">  #style: source/_data/styles.styl</span><br></pre></td></tr></table></figure>
<p><font size=2><code>variable</code></font><strong>行前的</strong><font size=2><code>#</code></font><strong>刪去。</strong></p>
<h3 id="14-頂部留白與banner圖設置"><a href="#14-頂部留白與banner圖設置" class="headerlink" title="14.頂部留白與banner圖設置"></a>14.頂部留白與banner圖設置</h3><p><strong>1.在</strong><font size=2><code>根目錄/source/_data/styles.styl</code></font><strong>中，添加以下代碼：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">//首页顶部留白</span><br><span class="line">.container&#123;margin-top:60px;&#125;</span><br></pre></td></tr></table></figure>
<p><strong>將</strong><font size=2><code>60px</code></font><strong>改為需要的高度。</strong></p>
<p><strong>2.若需要去除頂部因此而出現的黑線，在</strong><font size=2><code>根目錄/themes/next/source/css/_variables/base.styl</code></font><strong>中，</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// Headband</span><br><span class="line">// --------------------------------------------------</span><br><span class="line">$headband-height                = 3px;</span><br><span class="line">$headband-bg                    = $black-deep;</span><br></pre></td></tr></table></figure>
<p><strong>將</strong><font size=2><code>3px</code></font><strong>改為</strong><font size=2><code>0px</code></font><strong>。</strong></p>
<p><strong>3.利用此黑線可以達到設置banner圖的目的：將2中</strong><font size=2><code>$headband-height</code></font><strong>的值改為圖片的高度；在</strong><font size=2><code>根目錄/themes/next/source/css/_common/outline/header/headerband.styl</code></font><strong>中，將</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">.headband &#123;</span><br><span class="line">  background: $headband-bg;</span><br><span class="line">  height: $headband-height;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>改為</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">.headband &#123;</span><br><span class="line">//  background: $headband-bg;</span><br><span class="line">  background: url(/images/banner.png) no-repeat center top;            //no-repeat表示不重複平鋪，center表示水平居中，top表示豎直居上</span><br><span class="line">  height: $headband-height;  //也可直接在此處修改高度</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<p><strong>但此時會出現圖片與正文緊貼的情況，因此可適當增加headband height。</strong><br><img src="https://s1.ax1x.com/2022/10/15/xwfpqg.png"></p>
<h3 id="15-返回頂部按鈕"><a href="#15-返回頂部按鈕" class="headerlink" title="15.返回頂部按鈕"></a>15.返回頂部按鈕</h3><p><strong>在</strong><font size=2><code>根目錄/themes/next/_config.yml</code></font><strong>中，</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">back2top:</span><br><span class="line">  enable: true                 //是否啟用</span><br><span class="line">  # Back to top in sidebar.</span><br><span class="line">  sidebar: false               //啟用邊欄</span><br><span class="line">  # Scroll percent label in b2t button.</span><br><span class="line">  scrollpercent: true          //返回頂部按鈕顯示滾動百分比</span><br></pre></td></tr></table></figure>
<h3 id="16-側邊欄添加新菜單"><a href="#16-側邊欄添加新菜單" class="headerlink" title="16.側邊欄添加新菜單"></a>16.側邊欄添加新菜單</h3><p><strong>1.在</strong><font size=2><code>Git Bash</code></font><strong>中運行</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">hexo new page xxx</span><br></pre></td></tr></table></figure>
<p><strong>其中</strong><font size=2><code>xxx</code></font><strong>是需要創建的菜單名稱。</strong></p>
<p><strong>2.在</strong><font size=2><code>根目錄/themes/next/_config.yml</code></font><strong>中，在</strong><font size=2><code>menu</code></font><strong>下添加新的菜單：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">menu:</span><br><span class="line">  home: / || fa fa-home</span><br><span class="line">  #about: /about/ || fa fa-user</span><br><span class="line">  #tags: /tags/ || fa fa-tags</span><br><span class="line">  #categories: /categories/ || fa fa-th</span><br><span class="line">  archives: /archives/ || fa fa-archive</span><br><span class="line">  #schedule: /schedule/ || fa fa-calendar</span><br><span class="line">  #sitemap: /sitemap.xml || fa fa-sitemap</span><br><span class="line">  #commonweal: /404/ || fa fa-heartbeat</span><br><span class="line">  技術: /categories/技術 || fa fa-cog</span><br></pre></td></tr></table></figure>
<p><strong>3.在撰寫新文章時，將其分類到對應菜單中。</strong></p>
<h3 id="17-優化性能，壓縮代碼"><a href="#17-優化性能，壓縮代碼" class="headerlink" title="17.優化性能，壓縮代碼"></a>17.優化性能，壓縮代碼</h3><p><strong>1.在</strong><font size=2><code>Git Bash</code></font><strong>中運行以下代碼，安裝擴展：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">npm i hexo-neat --save</span><br></pre></td></tr></table></figure>
<p><strong>2.在</strong><font size=2><code>根目錄/_config.yml</code></font><strong>中，添加以下代碼：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># hexo-neat</span><br><span class="line"># 博文压缩</span><br><span class="line">neat_enable: true</span><br><span class="line"># 压缩html</span><br><span class="line">neat_html:</span><br><span class="line">  enable: true</span><br><span class="line">  exclude:</span><br><span class="line"># 压缩css  </span><br><span class="line">neat_css:</span><br><span class="line">  enable: true</span><br><span class="line">  exclude:</span><br><span class="line">    - &#x27;**/*.min.css&#x27;</span><br><span class="line"># 压缩js</span><br><span class="line">neat_js:</span><br><span class="line">  enable: true</span><br><span class="line">  mangle: true</span><br><span class="line">  output:</span><br><span class="line">  compress:</span><br><span class="line">  exclude:</span><br><span class="line">    - &#x27;**/*.min.js&#x27;</span><br><span class="line">    - &#x27;**/jquery.fancybox.pack.js&#x27;</span><br><span class="line">    - &#x27;**/index.js&#x27;  </span><br></pre></td></tr></table></figure>
<p><strong>關於詳細參數的配置，可參考<a href="https://github.com/rozbo/hexo-neat">官方文檔</a>。</strong></p>
<h2 id="四、文章"><a href="#四、文章" class="headerlink" title="四、文章"></a>四、文章</h2><h3 id="1-文章永久鏈接"><a href="#1-文章永久鏈接" class="headerlink" title="1.文章永久鏈接"></a>1.文章永久鏈接</h3><p><strong>文章鏈接默認格式為</strong><font size=2><code>:year/:month/:day/:title</code></font><strong>，如</strong><font size=2><code>https://willhor2.github.io/2022/10/08/本站建立歷程/</code></font><strong>。可參考<a href="https://hexo.io/zh-tw/docs/index.html">Hexo官方文檔</a>進行設置。</strong></p>
<p><strong>除此之外，為求美觀還可以利用插件</strong><font size=2><code>hexo-arrblink</code></font><strong>來創建一個url鏈接，如</strong><font size=2><code>https://willhor2.github.io/posts/31622/</code></font></p>
<p><strong>在</strong><font size=2><code>Git Bash</code></font><strong>中運行</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">npm i hexo-arrblink --save</span><br></pre></td></tr></table></figure>
<p><strong>在</strong><font size=2><code>根目錄/themes/next/_config.yml</code></font><strong>中，將</strong><font size=2><code>permalink</code></font><strong>設為</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">permalink: posts/:abbrlink/</span><br></pre></td></tr></table></figure>
<p><strong>並在其下添加以下代碼：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">abbrlink:         //控制生成的格式</span><br><span class="line">  alg: crc16</span><br><span class="line">  rep: dec</span><br></pre></td></tr></table></figure>
<p><strong>可參考<a href="https://github.com/Rozbo/hexo-abbrlink">官方文檔</a>進行修改。</strong></p>
<h3 id="2-關閉文章目錄數字編號"><a href="#2-關閉文章目錄數字編號" class="headerlink" title="2.關閉文章目錄數字編號"></a>2.關閉文章目錄數字編號</h3><p><strong>在</strong><font size=2><code>根目錄/themes/next/_config.yml</code></font><strong>中，</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">toc:</span><br><span class="line">  enable: true                 //是否啟用</span><br><span class="line">  # Automatically add list number to toc.</span><br><span class="line">  number: false                //是否顯示數字編號</span><br><span class="line">  # If true, all words will placed on next lines if header width longer then sidebar width.</span><br><span class="line">  wrap: false                  //標題寬度大於邊欄寬度時是否換行顯示</span><br><span class="line">  # If true, all level of TOC in a post will be displayed, rather than the activated part of it.</span><br><span class="line">  expand_all: true            //是否顯示所有層級而非僅閱讀部分的層級</span><br><span class="line">  # Maximum heading depth of generated toc.</span><br><span class="line">  max_depth: 6</span><br></pre></td></tr></table></figure>
<h3 id="3-正文首行縮進"><a href="#3-正文首行縮進" class="headerlink" title="3.正文首行縮進"></a>3.正文首行縮進</h3><p><strong>在</strong><font size=2><code>根目錄/source/_data/styles.styl</code></font><strong>中，添加以下代碼：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">//首行縮進</span><br><span class="line">.post-body p &#123; text-indent: 2em; &#125;</span><br></pre></td></tr></table></figure>
<h3 id="4-首頁文章折疊"><a href="#4-首頁文章折疊" class="headerlink" title="4.首頁文章折疊"></a>4.首頁文章折疊</h3><p><strong>1.在</strong><font size=2><code>Git Bash</code></font><strong>中運行以下代碼安裝擴展：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">npm i hexo-excerpt --save</span><br></pre></td></tr></table></figure>

<p><strong>2.在</strong><font size=2><code>根目錄/_config.yml</code></font><strong>中，添加以下代碼：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">excerpt:</span><br><span class="line">  depth: 3</span><br><span class="line">  excerpt_excludes: []</span><br><span class="line">  more_excludes: []</span><br><span class="line">  hideWholePostExcerpts: true</span><br></pre></td></tr></table></figure>
<p><strong>其中，</strong><font size=2><code>depth</code></font><strong>表示代碼的層級，默認為10。</strong></p>
<h3 id="5-文末添加“本文結束”標記"><a href="#5-文末添加“本文結束”標記" class="headerlink" title="5.文末添加“本文結束”標記"></a>5.文末添加“本文結束”標記</h3><p><strong>1.在</strong><font size=2><code>根目錄/themes/next/layout/_macro</code></font><strong>下新建</strong><font size=2><code>passage-end-tag.swig</code></font><strong>文件，添加以下代碼：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;div&gt;</span><br><span class="line">    &#123;% if not is_index %&#125;</span><br><span class="line">        &lt;div style=&quot;text-align:center;color: #696969;font-size:14px;&quot;&gt;-------------The End-------------&lt;/div&gt;</span><br><span class="line">    &#123;% endif %&#125;</span><br><span class="line">&lt;/div&gt;</span><br></pre></td></tr></table></figure>
<p><strong>將</strong><font size=2><code>--The End--</code></font><strong>替換為需要的字樣</strong>；</p>
<p><strong>2.在</strong><font size=2><code>根目錄/themes/next/layout/_macro/post.swig</code></font><strong>中，在</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&#123;#####################&#125;</span><br><span class="line">&#123;### END POST BODY ###&#125;</span><br><span class="line">&#123;#####################&#125;</span><br></pre></td></tr></table></figure>
<p><strong>前添加以下代碼：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;div&gt;</span><br><span class="line">  &#123;% if not is_index %&#125;</span><br><span class="line">    &#123;% include &#x27;passage-end-tag.swig&#x27; %&#125;</span><br><span class="line">  &#123;% endif %&#125;</span><br><span class="line"> &lt;/div&gt;</span><br></pre></td></tr></table></figure>
<p><strong>即</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;div&gt;</span><br><span class="line">  &#123;% if not is_index %&#125;</span><br><span class="line">    &#123;% include &#x27;passage-end-tag.swig&#x27; %&#125;</span><br><span class="line">  &#123;% endif %&#125;</span><br><span class="line"> &lt;/div&gt;</span><br><span class="line"></span><br><span class="line">   &#123;#####################&#125;</span><br><span class="line">   &#123;### END POST BODY ###&#125;</span><br><span class="line">   &#123;#####################&#125;</span><br></pre></td></tr></table></figure>
<p><strong>3.在</strong><font size=2><code>根目錄/themes/next/_config.yml</code></font><strong>中，添加以下代碼：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">passage_end_tag:</span><br><span class="line">  enabled: true</span><br></pre></td></tr></table></figure>
<h3 id="6-舊篇、新篇按鈕位置"><a href="#6-舊篇、新篇按鈕位置" class="headerlink" title="6.舊篇、新篇按鈕位置"></a>6.舊篇、新篇按鈕位置</h3><p><strong>在</strong><font size=2><code>根目錄/themes/next/_config.yml</code></font><strong>中，</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># Show previous post and next post in post footer if exists</span><br><span class="line"># Available values: left | right | false</span><br><span class="line">post_navigation: right        //在文章頁面中，默認左下角為舊文章右下角為新文章，不符合閱讀習慣</span><br></pre></td></tr></table></figure>
<h3 id="7-代碼和代碼框的美化"><a href="#7-代碼和代碼框的美化" class="headerlink" title="7.代碼和代碼框的美化"></a>7.代碼和代碼框的美化</h3><p><strong>在</strong><font size=2><code>根目錄/source/_data/styles.styl</code></font><strong>中添加以下代碼：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">// 代码框的美化代码</span><br><span class="line">.highlight &#123;</span><br><span class="line">    border-radius: 1px;                    //邊框圓角半徑</span><br><span class="line">    background-color: rgb(246, 248, 250);  //背景顏色</span><br><span class="line">    overflow: auto;</span><br><span class="line">    border-width: 1px 1px 1px 2px;         //邊框寬度</span><br><span class="line">    border-style: solid solid solid solid; //邊框風格</span><br><span class="line">    border-color: rgb(170, 170, 170) rgb(170, 170, 170) rgb(170, 170, 170) rgb(0, 0, 0);       //邊框顏色</span><br><span class="line">    border-image: initial;                 //邊框圖片</span><br><span class="line">    position: relative;                    //位置</span><br><span class="line">&#125;</span><br><span class="line">// 针对Code代码标签的美化</span><br><span class="line">code &#123;</span><br><span class="line">  padding: 2px 4px;</span><br><span class="line">  word-wrap: break-word;</span><br><span class="line">  color: #ff7600;</span><br><span class="line">  background: #fbf7f8;</span><br><span class="line">  border-radius: 3px;</span><br><span class="line">  font-size: 15px;</span><br><span class="line">  font-weight: normal;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure>
<h3 id="8-點擊圖片放大"><a href="#8-點擊圖片放大" class="headerlink" title="8.點擊圖片放大"></a>8.點擊圖片放大</h3><p><strong>在</strong><font size=2><code>根目錄/themes/next/_config.yml</code></font><strong>中,</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line"># FancyBox is a tool that offers a nice and elegant way to add zooming functionality for images.</span><br><span class="line"># For more information: https://fancyapps.com/fancybox</span><br><span class="line">fancybox: true       //設為true即可</span><br></pre></td></tr></table></figure>
<h3 id="9-簡體正體切換"><a href="#9-簡體正體切換" class="headerlink" title="9.簡體正體切換"></a>9.簡體正體切換</h3><p><strong>1.將<a href="https://1han.wiki/js/tw_cn.js">這裡</a>的文件保存至</strong><font size=2><code>根目錄/themes/next/source/js</code></font><strong>中。</strong></p>
<p><strong>2.在</strong><font size=2><code>根目錄/themes/next/layout/_partials/footer.swig</code></font><strong>中添加以下代碼：</strong></p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">&lt;div class=&quot;translate-style&quot;&gt;</span><br><span class="line">繁/简：&lt;a id=&quot;translateLink&quot; href=&quot;javascript:translatePage();&quot;&gt;繁体</span><br><span class="line">&lt;/a&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line">&lt;script type=&quot;text/javascript&quot; src=&quot;/js/tw_cn.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">&lt;script type=&quot;text/javascript&quot;&gt;</span><br><span class="line">var defaultEncoding = 2; //网站编写字体是否繁体，1-繁体，2-简体</span><br><span class="line">var translateDelay = 0; //延迟时间,若不在前, 要设定延迟翻译时间, 如100表示100ms,默认为0</span><br><span class="line">var cookieDomain = &quot;https://1han.wiki/&quot;; //Cookie地址, 一定要设定, 通常为你的网址</span><br><span class="line">var msgToTraditionalChinese = &quot;繁体&quot;; //此处可以更改为你想要显示的文字</span><br><span class="line">var msgToSimplifiedChinese = &quot;简体&quot;; //同上，但两处均不建议更改</span><br><span class="line">var translateButtonId = &quot;translateLink&quot;; //默认互换id</span><br><span class="line">translateInitilization();</span><br><span class="line">&lt;/script&gt;</span><br></pre></td></tr></table></figure>
<p><strong>3.在站點底部即可實習簡體正體切換。</strong></p>
<p><em><strong><font size=7>To be continued…</font></strong></em></p>
<h2 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h2><p><strong>本人（站長）在此對以下（包括但不限於）珍貴經驗教程及其創作者表示衷心的感謝。</strong><br><strong>·<a href="https://www.runoob.com/css/css-tutorial.html">CSS教程|菜鸟教程</a></strong><br><strong>·<a href="https://hexo.io/zh-tw/docs/index.html">文档|Hexo</a></strong><br><strong>·<a href="https://zhuanlan.zhihu.com/p/511211468">Hexo+Github博客搭建教程</a></strong><br><strong>·<a href="https://zhuanlan.zhihu.com/p/35668237?utm_medium=social&utm_oi=670339112213680128">超详细Hexo+Github博客搭建小白教程</a></strong><br><strong>·<a href="https://zhuanlan.zhihu.com/p/111614119">Github + Hexo 搭建个人博客超详细教程</a></strong><br><strong>·<a href="http://yearito.cn/posts/hexo-get-started.html">Hexo 搭建个人博客系列：基础建站篇 </a></strong><br><strong>·<a href="https://www.jianshu.com/p/1f8107a8778c">hexo搭建个人博客–NexT主题优化</a></strong><br><strong>·<a href="http://theme-next.iissnan.com/theme-settings.html#fonts-customization">主题配置-NexT使用文档</a></strong><br><strong>·<a href="https://www.jianshu.com/p/8131ffab3feb">Next主题配置详解</a></strong><br><strong>·<a href="https://blog.csdn.net/Growing_potato/article/details/113926856">next主题美化——背景图片、页面透明化、阴影、圆角、动画</a></strong><br><strong>·<a href="https://blog.csdn.net/qq_42912469/article/details/122365088">hexo下next主题的优化</a></strong><br><strong>·<a href="https://blog.csdn.net/nightmare_dimple/article/details/86661502?ops_request_misc=%25257B%252522request%25255Fid%252522%25253A%252522160808878519721942262725%252522%25252C%252522scm%252522%25253A%25252220140713.130102334..%252522%25257D&request_id=160808878519721942262725&biz_id=0&utm_medium=distribute.pc_search_result.none-task-blog-2~all~top_click~default-1-86661502.nonecase&utm_term=next%E4%B8%BB%E9%A2%98">Hexo博客优化之Next主题美化</a></strong><br><strong>·<a href="https://blog.csdn.net/wang_123_zy/article/details/87181892">Hexo添加Live2D看板娘+模型预览</a></strong><br><strong>·<a href="http://shenzekun.cn/hexo%E7%9A%84next%E4%B8%BB%E9%A2%98%E4%B8%AA%E6%80%A7%E5%8C%96%E9%85%8D%E7%BD%AE%E6%95%99%E7%A8%8B.html">hexo的next主题个性化教程:打造炫酷网站</a></strong><br><strong>·<a href="https://tru-xu.github.io/2019/05/10/hexo%E6%90%AD%E5%BB%BA%E5%8D%9A%E5%AE%A2%E8%B8%A9%E5%9D%91/">hexo搭建博客踩坑 </a></strong><br><strong>·<a href="https://cloud.tencent.com/developer/article/2114574">Hexo支持简体繁体一键切换教程</a></strong><br><strong>……</strong></p>
]]></content>
      <categories>
        <category>技術</category>
      </categories>
  </entry>
  <entry>
    <title>IPv6的開通使用</title>
    <url>/posts/2/</url>
    <content><![CDATA[<h2 id="一、判斷光貓-amp-x2F-路由器是否支持IPv6"><a href="#一、判斷光貓-amp-x2F-路由器是否支持IPv6" class="headerlink" title="一、判斷光貓&amp;&#x2F;路由器是否支持IPv6"></a>一、判斷光貓&amp;&#x2F;路由器是否支持IPv6</h2><p>近年以來的光貓與路由器設備基本全面支持IPv6功能，可在設備的管理頁面進行確認。</p>
<p>如支持IPv6，直接進行相關設置即可，網路上有豐富的說明文檔。本文特針對光貓支持IPv6而路由器不支持IPv6的情況進行說明。</p>
<h2 id="二、配置環境與名詞解釋"><a href="#二、配置環境與名詞解釋" class="headerlink" title="二、配置環境與名詞解釋"></a>二、配置環境與名詞解釋</h2><p>網路：中國聯通；</p>
<p>地點：河南省某市某縣；</p>
<p>光貓：即光調製解調器（兼有一級路由功能），作用是將光信號轉為電信號；</p>
<p>路由器：特指二級路由器，在本文中實際不使用其路由功能（目的是減少NAT層數），作用是將有線信號轉為無線信號使用（AP）；</p>
<h2 id="三、思路"><a href="#三、思路" class="headerlink" title="三、思路"></a>三、思路</h2><p>光貓撥號，路由器AP。</p>
<h2 id="四、步驟"><a href="#四、步驟" class="headerlink" title="四、步驟"></a>四、步驟</h2><h3 id="1-獲取光貓管理員賬號-amp-密碼"><a href="#1-獲取光貓管理員賬號-amp-密碼" class="headerlink" title="1.獲取光貓管理員賬號&amp;密碼"></a>1.獲取光貓管理員賬號&amp;密碼</h3><p>若網路中的一些通用賬號&amp;密碼不適用，可按照以下步驟進行操作：</p>
<h4 id="（1）登錄光貓管理頁面"><a href="#（1）登錄光貓管理頁面" class="headerlink" title="（1）登錄光貓管理頁面"></a>（1）登錄光貓管理頁面</h4><p>使用光貓背面用戶賬號密碼登錄<font size=2><code>http://192.168.1.1</code></font>，用户名可能並非完全一致，可嘗試<font size=2><code>user</code></font>；</p>
<h4 id="（2）啟用FTP服務和Telnet服務"><a href="#（2）啟用FTP服務和Telnet服務" class="headerlink" title="（2）啟用FTP服務和Telnet服務"></a>（2）啟用FTP服務和Telnet服務</h4><p>轉到<font size=2><code>http://192.168.1.1/servmngr.html</code></font>，勾選<font size=2><code>啟用FTP服務</code></font>，設置用戶名和密碼为<font size=2><code>admin</code></font>，<br>勾選<font size=2><code>啟用Telnet服務</code></font>，設置用戶名和密碼为<font size=2><code>admin</code></font>，並點擊<font size=2><code>保存/應用</code></font>；</p>
<h4 id="（3）獲取光貓備份配置文件"><a href="#（3）獲取光貓備份配置文件" class="headerlink" title="（3）獲取光貓備份配置文件"></a>（3）獲取光貓備份配置文件</h4><p>在<font size=2><code>控制面板/程序和功能/啟用或關閉Windows功能</code></font>中，勾選<font size=2><code>Telnet客戶端</code></font>；在<font size=2><code>cmd</code></font>中輸入</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Telnet 192.168.1.1</span><br></pre></td></tr></table></figure>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">Login:</span><br><span class="line">Password:</span><br></pre></td></tr></table></figure>
<p>均輸入<font size=2><code>admin</code></font>（其中密碼欄不會顯示），完成後輸入</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">gendefsettings</span><br></pre></td></tr></table></figure>
<p>得到結果</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">generate config file OK!!!</span><br></pre></td></tr></table></figure>

<h4 id="（4）使用FTP工具配置文件"><a href="#（4）使用FTP工具配置文件" class="headerlink" title="（4）使用FTP工具配置文件"></a>（4）使用FTP工具配置文件</h4><p>以8uftp軟體为例，地址欄輸入<font size=2><code>192.168.1.1</code></font>，用戶名和密碼為<font size=2><code>admin</code></font>並連接，在右側目錄找到<font size=2><code>fhconf/backpresettings.conf</code></font>，雙擊後將會保存至<font size=2><code>此電腦/文檔</code></font>，使用Notepad++打開。</p>
<h4 id="（5）管理員賬號-amp-密碼查詢"><a href="#（5）管理員賬號-amp-密碼查詢" class="headerlink" title="（5）管理員賬號&amp;密碼查詢"></a>（5）管理員賬號&amp;密碼查詢</h4><p>在打開的文件中搜索<font size=2><code>UserPassword</code></font>或<font size=2><code>AdminPassword</code></font>，複製<font size=2><code>&lt;web&gt;</code></font>中<font size=2><code>&lt;AdminPassword&gt;</code></font>字段的黑色加粗部分，並在Base64解密网站（如<a href="https://base64.us/">https://base64.us</a>）中解密，得到格式為<font size=2><code>cuadmin</code></font>+8位数字的結果，即為密碼。</p>
<h3 id="2-登錄光貓管理頁面查看IPv6相關信息"><a href="#2-登錄光貓管理頁面查看IPv6相關信息" class="headerlink" title="2.登錄光貓管理頁面查看IPv6相關信息"></a>2.登錄光貓管理頁面查看IPv6相關信息</h3><p>登錄<font size=2><code>http://192.168.1.1/cu.html</code></font>，用戶名為<font size=2><code>CUAdmin</code></font>，密碼為上述步骤1的結果。</p>
<p>如成功登錄，將步驟1中的第（2）步設置還原，即關閉FTP服務和Telnet服務。</p>
<p>在用戶側信息中可以查詢到IPv6的位址、前綴、網關等。</p>
<h3 id="3-路由器設置"><a href="#3-路由器設置" class="headerlink" title="3.路由器設置"></a>3.路由器設置</h3><p>登錄路由器配置頁面，將<font size=2><code>路由模式/動態IP模式</code></font>改為<font size=2><code>AP模式</code></font>，即完成。</p>
<p>可通過<font size=2><code>cmd</code></font>輸入</p>
<figure class="highlight plaintext"><table><tr><td class="code"><pre><span class="line">ipconfig</span><br></pre></td></tr></table></figure>
<p>查詢IPv6位址，或相關IPv6測試網站測試。</p>
<p>此後將不能通過之前設置的地址登錄路由器管理頁面，需在光貓管理頁面的用戶側信息中查詢LAN口內網IP位址（這是由於AP模式下的路由器作為光貓的一個下級設備被光貓分配了新的內網IP位址）。</p>
<h2 id="參考資料"><a href="#參考資料" class="headerlink" title="參考資料"></a>參考資料</h2><p><strong>·<a href="https://blog.csdn.net/Adam12321/article/details/108369917">联通宽带光猫获取超级密码教程！！</a></strong></p>
<p><strong>·本人亲自实践。</strong></p>
]]></content>
      <categories>
        <category>技術</category>
      </categories>
  </entry>
  <entry>
    <title>中發白麻將</title>
    <url>/posts/3/</url>
    <content><![CDATA[<p><strong><center>請在頁腳切換正體&#x2F;簡體中文</center></strong><br>本文原作於2022&#x2F;01&#x2F;26，第一版發佈於2022&#x2F;10&#x2F;15，第二版發佈於2024&#x2F;02&#x2F;13。  </p>
<p>第二版更新介紹：<br>1.新增一組結算的示例；<br>2.新增爭議情況的說明；<br>3.精簡文字以便於閱讀；<br>4.修復若干語句的口語化問題。</p>
<h2 id="一、特點"><a href="#一、特點" class="headerlink" title="一、特點"></a>一、特點</h2><p><strong>中發白</strong>是一種流行於河南桐柏地區的麻將遊戲，其特點有：</p>
<p>1.三張同類型的<strong>不同</strong>風字牌可以成為一組風牌（<u>東南西北</u>的任意三張為一組小風；<u>中發白</u>三張為一組大風），持有一組&#x2F;多組風牌即可在結算時加分（無論何家和牌）：</p>
<p><img src="https://s1.ax1x.com/2022/10/15/x0VOz9.png"><br><img src="https://s1.ax1x.com/2022/10/15/x0Vvs1.png"></p>
<p>2.聽牌必須<strong>報聽</strong>，即需告知其他玩家本人進入聽牌狀態，此後不允許變更牌型。聽牌後由牌山摸到並打出的牌若放銃<em><strong>（點炮）</strong></em>給其他玩家，不視為本人放銃，稱為<em><strong>平贏（公炮）</strong></em>。<em><strong>平贏</strong></em>是中發白麻將玩法最基礎且得分最小的和牌方法，只存在於上述情形之中。</p>
<p>3.和風牌時必須<strong>自摸</strong>（如持有<u>東南</u>，和<u>西</u>或<u>北</u>，需自摸）：</p>
<p><img src="https://s1.ax1x.com/2022/10/15/x0ZPiD.png"></p>
<p>不組成風牌組的則視為普通牌，可自摸或由其他玩家放銃（如持有<u>東東</u>，此時自摸&#x2F;其他玩家打出<u>東</u>或<u>一筒</u>可和牌）：</p>
<p><img src="https://s1.ax1x.com/2022/10/15/x0Zuo8.png"></p>
<p>4.暗槓不亮牌，其他玩家只得在牌局結束後方可得知槓子是何。</p>
<p><img src="https://s1.ax1x.com/2022/10/15/x0Zte0.png"></p>
<p>5.可碰&#x2F;槓，不可吃；聽牌後仍可槓（本條存在部分爭議）。</p>
<p>6.無其他牌型限制（如日麻1番起和），無門前清立直限制（即碰&#x2F;槓後仍可報聽），無十三幺，七對不加倍。</p>
<h2 id="二、結算"><a href="#二、結算" class="headerlink" title="二、結算"></a>二、結算</h2><p>分為被動獲勝<em><strong>（平贏或被點炮）</strong></em>和主動獲勝（自摸）兩種情況。閒家<em><strong>平贏</strong></em>是一切算法的基礎，詳情如下：</p>
<h3 id="1-閒家獲勝"><a href="#1-閒家獲勝" class="headerlink" title="1.閒家獲勝"></a>1.閒家獲勝</h3><p><strong>1.1 被動獲勝（得4分）：</strong><br>·1.1.1 <em><strong>平贏</strong></em>時，得2+1+1&#x3D;4分。莊家失2分，其他玩家各失1分；<br>·1.1.2 <em><strong>被點炮</strong></em>時，得4分。點炮者失4分，不分莊閒。</p>
<p><strong>1.2 主動獲勝（得8&#x2F;14&#x2F;20分）：</strong><br>·1.2.1 <em><strong>平辦（和普通牌）</strong></em>時，得4+2+2&#x3D;8分。莊家失4分，其他玩家各失2分，可以理解為<em><strong>平贏</strong></em>的2倍&#x2F;<em><strong>平贏</strong></em>+2；<br>·1.2.2 <em><strong>辦小風（和<u>東&#x2F;南&#x2F;西&#x2F;北風</u>）</strong></em>時，得6+4+4&#x3D;14分。莊家失6分，其他玩家各失4分，可以理解為<em><strong>平贏</strong></em>的3倍&#x2F;<em><strong>平辦</strong></em>+2；<br>·1.2.3 <em><strong>辦大風（和<u>中發白</u>）</strong></em>時，得8+6+6&#x3D;20分。莊家失8分，其他玩家各失6分，可以理解為<em><strong>平贏</strong></em>的4倍&#x2F;<em><strong>辦小風</strong></em>+2。</p>
<h3 id="2-莊家獲勝"><a href="#2-莊家獲勝" class="headerlink" title="2.莊家獲勝"></a>2.莊家獲勝</h3><p><strong>2.1 被動獲勝（得6分）：</strong><br>·2.1.1 <em><strong>平贏</strong></em>時，得2+2+2&#x3D;6分。其他玩家各失2分；<br>·2.1.2 <em><strong>被點炮</strong></em>時，得6分。點炮者失6分。</p>
<p><strong>2.2 主動獲勝（得12&#x2F;18&#x2F;24分）：</strong><br>·2.2.1 <em><strong>平辦（和普通牌）</strong></em>時，得4+4+4&#x3D;12分。其他玩家各失4分，可以理解為<em><strong>平贏</strong></em>的2倍；<br>·2.2.2 <em><strong>辦小風（和<u>東&#x2F;南&#x2F;西&#x2F;北風</u>）</strong></em>時，得6+6+6&#x3D;18分。其他玩家各失6分，可以理解為<em><strong>平贏</strong></em>的3倍；<br>·2.2.3 <em><strong>辦大風（和<u>中&#x2F;發&#x2F;白</u>）</strong></em>時，得8+8+8&#x3D;24分。其他玩家各失8分，可以理解為<em><strong>平贏</strong></em>的4倍。</p>
<h3 id="3-風牌"><a href="#3-風牌" class="headerlink" title="3.風牌"></a>3.風牌</h3><p>牌局結束時所有人亮牌，其中：<br>·3.1 自己持有的一組小風&#x2F;明槓+3分（即其他玩家各失1分），其他玩家持有的一組小風&#x2F;明槓-1分；<br>·3.2 自己持有的一組大風&#x2F;暗槓+6分（即其他玩家各失2分），其他玩家持有的一組大風&#x2F;暗槓-2分。</p>
<h2 id="三、示例"><a href="#三、示例" class="headerlink" title="三、示例"></a>三、示例</h2><h3 id="示例①：閒家平贏"><a href="#示例①：閒家平贏" class="headerlink" title="示例①：閒家平贏"></a>示例①：閒家<em><strong>平贏</strong></em></h3><p><strong>莊A：</strong>已聽牌，和<u><strong>六&#x2F;九筒</strong></u>；持有一組小風；此時從牌堆中摸到<u><strong>一條</strong></u>並打出：</p>
<p><img src="https://img.pterclub.com/images/2024/02/13/3.png"></p>
<p><strong>（A的下家）B：</strong>已聽牌，和<u><strong>一條&#x2F;九筒</strong></u>；持有一組小風和一組大風；此時A打出<u><strong>一條</strong></u>，B<em><strong>平贏：</strong></em></p>
<p><img src="https://s1.ax1x.com/2022/10/15/x0eP00.png"></p>
<p><strong>（B的下家）C：</strong>未聽牌；持有暗槓<u><strong>八條</strong></u>：</p>
<p><img src="https://s1.ax1x.com/2022/10/15/x0eAtU.png"></p>
<p><strong>（C的下家）D：</strong>未聽牌；未持有風牌或槓子：</p>
<p><img src="https://s1.ax1x.com/2022/10/15/x0emc9.png"></p>
<p>結算：閒家B獲勝，方式為<em><strong>平贏</strong></em>  </p>
<p>·對A：由1.1.1，應得-2分；由3.1&amp;3.2，應得+3-(1+2)-2&#x3D;-2分，共得-4分；</p>
<p>·對B：由1.1.1，應得4分；由3.1&amp;3.2，應得+(3+6)-1-2&#x3D;6分，共得10分；</p>
<p>·對C：由1.1.1，應得-1分；由3.1&amp;3.2，應得+6-1-(1+2)&#x3D;2分，共得1分；</p>
<p>·對D：由1.1.1，應得-1分；由3.1&amp;3.2，應得+0-1-(1+2)-2&#x3D;-6分，共得-7分。</p>
<p>驗算：-4+10+1-7&#x3D;0</p>
<h3 id="示例②：閒家辦小風"><a href="#示例②：閒家辦小風" class="headerlink" title="示例②：閒家辦小風"></a>示例②：閒家<em><strong>辦小風</strong></em></h3><p><strong>莊A：</strong>已聽牌，和<u><strong>一筒&#x2F;北風</strong></u>或<u><strong>東&#x2F;南&#x2F;西風</strong></u>（自摸）；持有一組小風：</p>
<p><img src="https://img.pterclub.com/images/2024/02/13/1.png"></p>
<p><strong>（A的下家）B：</strong>已聽牌，和<u><strong>西&#x2F;北風</strong></u>（自摸）；持有一組大風；此時由牌山摸到<u><strong>西風</strong></u>，B<em><strong>辦小風：</strong></em></p>
<p><img src="https://img.pterclub.com/images/2024/02/13/4.png"></p>
<p><strong>（B的下家）C：</strong>未聽牌；持有暗槓<u><strong>八條</strong></u>：</p>
<p><img src="https://s1.ax1x.com/2022/10/15/x0eAtU.png"></p>
<p><strong>（C的下家）D：</strong>未聽牌；未持有風牌或槓子：</p>
<p><img src="https://s1.ax1x.com/2022/10/15/x0emc9.png"></p>
<p>結算：閒家B獲勝，方式為<em><strong>辦小風</strong></em>  </p>
<p>·對A：由1.1.1，應得-6分；由3.1&amp;3.2，應得+3-2-2&#x3D;-1分，共得-7分；</p>
<p>·對B：由1.1.1，應得14分；由3.1&amp;3.2，應得+6-1-2&#x3D;3分，共得17分；</p>
<p>·對C：由1.1.1，應得-4分；由3.1&amp;3.2，應得+6-1-2&#x3D;3分，共得-1分；</p>
<p>·對D：由1.1.1，應得-4分；由3.1&amp;3.2，應得+0-1-2-2&#x3D;-5分，共得-9分。</p>
<p>驗算：-7+17-1-9&#x3D;0</p>
<h2 id="四、爭議"><a href="#四、爭議" class="headerlink" title="四、爭議"></a>四、爭議</h2><p>關於第一節第5條所述爭議情況：  </p>
<p>·假設本人已聽牌，如下圖所示，此時和<u><strong>六九萬</strong></u>。此時若自摸或他人打出<u><strong>一筒</strong></u>，存在可開槓與不可開槓兩種觀點：<br>（1）可開槓的觀點支持者認為：牌河已存在多個<u>六九萬</u>，自身獲勝希望渺茫，故放棄和牌，轉而開槓以求結算時增加分數。其他人對本人變更牌型並不知情；<br>（2）不可開槓的觀點支持者認為：此時三個<u>一筒</u>分別承擔了將牌與順子的作用，不能將其整體視為一個對子，若開槓則變更了牌型，與本玩法中“聽牌後不允許更改牌型”的規則衝突。  </p>
<p>筆者認為，此種情況應當不允許開槓。嚴格來講，若已進入聽牌狀態，本局結束後需要<strong>亮牌</strong>給其他玩家，以確認處於聽牌狀態，若開槓則變更了牌型，已然並非聽牌狀態，甚至被其他玩家判定為假聽亦不為過。  </p>
<p>然而實際情況中，規則多由玩家之間相互約定，故不作強制約束。</p>
<p><img src="https://img.pterclub.com/images/2024/02/12/11123p456s78m123z.png"></p>
<h2 id="技術支持"><a href="#技術支持" class="headerlink" title="技術支持"></a>技術支持</h2><p><a href="https://github.com/black-desk/mahjim">black-desk&#x2F;mahjim</a></p>
]]></content>
      <categories>
        <category>休閒</category>
      </categories>
  </entry>
</search>
